<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/css-style.css">
    </head>
    <body onload="firstLoad()">        
        <div id="large-header">
            <div id="large-header-container">
                <div id="large-wordmark"><a href="index.html"><img src="images/ASDL-Logo_Main%20Logo.svg"></a></div>
            </div>
            <div id="menu-header-container">
                <div id="web-menu">

                    <div id="small-cta">
                        <a class="menu-button" href="index.html#SensorListLink">Sensor List</a>
                    </div> 
                    <div id="small-spacer"></div>
                    <div id="small-spacer"></div>

                    <div id="small-cta">
                        <a class="menu-button" href="index.html#AboutLink">About Us</a>
                    </div> 
                    <div id="small-spacer"></div>
                    <div id="small-spacer"></div>

                    <div id="small-cta">
                        <a class="menu-button" href="index.html#ExtLink">External Links</a>
                    </div> 
                    <div id="small-spacer"></div>
                    <div id="small-spacer"></div>

                    <div id="small-cta">
                        <a class="menu-button" href="">TBD Link 1</a>
                    </div> 
                    <div id="small-spacer"></div>

                </div>
            </div>  
        </div>




        <div id="main-container">
            

            
<div id = "mid-buffer"></div>
            <div id="main">
                <h1 id="strapline">Sensor: ANTARES-LTE</h1>
                <p id="copy">This is the first sensor package prototyped by the ASDL IoT Team. Powered by a Particle Boron 404x LTE Cellular Modem, it communicates a series of air quality parameters to the cloud, independent of any Wi-Fi network. Once set up, it can be placed anywhere indoors or outdoors, and will automatically resume transmission. This sensor package reads data every <b>5 seconds</b>, averaging the values and pushing to the cloud every <b>10 minutes</b>.</p><p id="copy">In addition to the air quality parameters, the device also reports current vitals, such as battery percentage and state of charge. These parameters can be found below.</p>
            </div>
            <div id = "mid-buffer"></div>
            <div id = "mid-buffer"></div>

            <div id="price-container-light">
                <div id="price-content">
                    <h1 id="strapline-dark">Sensor Vitals</h1>
                </div>

                
                <div id="row">
                    <div id="halftitles">
                        <h3 id="copy-dark">Current Battery %</h3>
                    </div>
                    <div id="large-spacer"></div>
                    <div id="halftitles">
                        <h3 id="copy-dark">Charge State</h3>
                    </div>
                </div>
                
                <div id="row">
                    <div id="halfcharts">
                        <iframe src="https://thingspeak.com/channels/2027273/widgets/602692"></iframe>
                    </div>
                    <div id="large-spacer"></div>
                    <div id="halfcharts">
                        <iframe src="https://thingspeak.com/channels/2027273/widgets/602693"></iframe>
                    </div>
                </div>
                
                <div id="small-wordmark"><a><img src="images/key.svg"></a></div>

                
                
            </div>


            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h1 id="strapline">Sensor Data</h1>
                <p id="copy">This sensor package uses the same sensors as the IAQ team to verify the cellular communication protocol. It measures CO2 Levels and Percent Humidity from the SCD40 Board. It measures Temperature and Pressure from the BMP388 Board. Battery and Input Voltage are monitored by the Boron404X.</p>
                <p id="copy">The input boxes below the charts allow you to set how many days into the past you want to see sensor data from. The default is <b>5 days</b>.</p>
                <div id = "mid-buffer"></div>
                <h2 id="strapline"><u>Battery</u></h2>
            </div>
            <div id = "mid-buffer"></div>

            <div id="thingspeakcharts">
                <iframe id="chargelevel" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="5" id ="chargenum" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateCRNum();event.preventDefault();">Set # Days</a>
                </div>
            </div>
            <div id = "midline"></div>

            <!--END-->

            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="strapline"><u>Input Voltage</u></h2>
            </div>
            <div id = "mid-buffer"></div>

            <div id="thingspeakcharts">
                <iframe id="IVlevel" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="5" id ="IVnum" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateIVnum();event.preventDefault();">Set # Days</a>
                </div>
            </div>
            <div id = "midline"></div>

            <!--END-->

            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="strapline"><u>CO2 Levels (PPM)</u></h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="COlevel" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="5" id ="CONum" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateCONum();event.preventDefault();">Set # Days</a>
                </div>
            </div>
            <div id = "midline"></div>
            <!--END-->
            
            <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="strapline"><u>Temperature (C)</u></h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="TMlevel" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="5" id ="TMNum" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateTMNum();event.preventDefault();">Set # Days</a>
                </div>
            </div>

            <div id = "midline"></div>
            <!--END-->
            
                        <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="strapline"><u>Humidity (%)</u></h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="HMlevel" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="5" id ="HMNum" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updateHMNum();event.preventDefault();">Set # Days</a>
                </div>
            </div>

            <div id = "midline"></div>
            <!--END-->
            
                        <!--Each ThingSpeak Chart-->
            <div id = "mid-buffer"></div>
            <div id="main">
                <h2 id="strapline"><u>Pressure (HPa)</u></h2>
            </div>
            <div id = "mid-buffer"></div>
            <div id="thingspeakcharts">
                <iframe id="PRlevel" src=""></iframe>
            </div>

            <div id="selection-container">
                <div id="small-cta">
                    <input type="number" min="1" max="60" value="5" id ="PRNum" class="form-control">
                </div> 
                <div id="small-cta">
                    <a class="form-button" type="button" href="#"  onclick="updatePRNum();event.preventDefault();">Set # Days</a>
                </div>
            </div>

            <div id = "mid-buffer"></div>
            <!--END-->


            <div id="price-container">
                <div id="price-content">
                    <h1 id="strapline">Sensor Location</h1>
                </div>
                <div id = "mid-buffer"></div>
                <div id="thingspeakcharts">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d829.0592913692578!2d-84.38813947075961!3d33.780373213485305!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMzPCsDQ2JzQ5LjMiTiA4NMKwMjMnMTUuMyJX!5e0!3m2!1sen!2sus!4v1675053379814!5m2!1sen!2sus" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
                <div id = "mid-buffer"></div>
                <div id = "mid-buffer"></div>

                <div id="thingspeakcharts">
                    <img src="images/img.jpg">
                </div>
                <div id = "mid-buffer"></div>
                <div id = "mid-buffer"></div>
                <div id = "mid-buffer"></div>
            </div>

            <div id="cta">
                <a class="cta-button" href="https://thingspeak.com/channels/2010573/import_export">ThingSpeak CSV Export</a>
            </div>
        </div>

        <!-- Scripts that manage chart data points -->  

        <script>  
            function firstLoad(){
                updateCRNum();
                updateIVnum();
                updateCONum();
                updateTMNum();
                updateHMNum();
                updatePRNum();
                
            }

            function updateCRNum() {
                let str1 = "https://thingspeak.com/channels/2027273/charts/1?width=auto&height=auto&days=";
                let str2 = "&dynamic=true&title=Charge History&type=spline"
                var chg = document.getElementById("chargenum").value;
                chg = Math.round(chg);

                let str3 = str1+chg.toString()+str2;

                document.getElementById("chargelevel").src=str3;
            }

            function updateIVnum() {
                let str1 = "https://thingspeak.com/channels/2027273/charts/3?width=auto&height=auto&days=";
                let str2 = "&dynamic=true&title=Input Voltage&type=spline"
                var chg = document.getElementById("IVnum").value;
                chg = Math.round(chg);
                
                let str3 = str1+chg.toString()+str2;

                document.getElementById("IVlevel").src=str3;
            }

            function updateCONum() {
                let str1 = "https://thingspeak.com/channels/2027273/charts/4?width=auto&height=auto&days=";
                let str2 = "&dynamic=true&title=CO2 Levels&type=spline"
                var chg = document.getElementById("CONum").value;
                chg = Math.round(chg);

                let str3 = str1+chg.toString()+str2;

                document.getElementById("COlevel").src=str3;
            }
            
            function updateTMNum() {
                let str1 = "https://thingspeak.com/channels/2027273/charts/5?width=auto&height=auto&days=";
                let str2 = "&dynamic=true&title=Temperature&type=spline"
                var chg = document.getElementById("TMNum").value;
                chg = Math.round(chg);

                let str3 = str1+chg.toString()+str2;

                document.getElementById("TMlevel").src=str3;
            }
            
            function updateHMNum() {
                let str1 = "https://thingspeak.com/channels/2027273/charts/6?width=auto&height=auto&days=";
                let str2 = "&dynamic=true&title=Humidity&type=spline"
                var chg = document.getElementById("HMNum").value;
                chg = Math.round(chg);

                let str3 = str1+chg.toString()+str2;

                document.getElementById("HMlevel").src=str3;
            }
            
            function updatePRNum() {
                let str1 = "https://thingspeak.com/channels/2027273/charts/7?width=auto&height=auto&days=";
                let str2 = "&dynamic=true&title=Pressure&type=spline"
                var chg = document.getElementById("PRNum").value;
                chg = Math.round(chg);

                let str3 = str1+chg.toString()+str2;

                document.getElementById("PRlevel").src=str3;
            }

        </script>
    </body>
</html>
